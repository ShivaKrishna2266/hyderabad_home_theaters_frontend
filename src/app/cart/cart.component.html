
<div class="container py-5">
  <h1 class="mb-5"><b>Your Shopping Cart</b></h1>
  <div class="row">
    <div class="col-lg-8">
      <!-- Cart Items -->
      <div class="card mb-4">
        <div class="card-body">
          <div *ngIf="cartItems.length > 0; else noCartItems">
            <div *ngFor="let item of cartItems; let i = index">
              <div class="row cart-item mb-3">
                <div class="col-md-3">
                  <img src="../../assets/boss-home-theater-system.webp" alt="">
                  <!-- <img [src]="item.productImage || defaultImage" alt="{{ item.productName }}" class="img-fluid rounded" /> -->
                </div>
                <div class="col-md-4">
                  <h5 class="card-title">{{ item.productName }}</h5>
                  <p class="text-muted">Category: {{ item.category || 'General' }}</p>
                </div>
                <div class="col-md-3">
                  <div class="input-group ">
                  <button class="btn btn-outline-secondary btn-sm" type="button" (click)="decreaseQuantity(i)">-</button>
                  <input style="max-width:50px" type="text" class="form-control form-control-sm text-center" [value]="item.quantity" readonly/>
                  <button class="btn btn-outline-secondary btn-sm" type="button" (click)="increaseQuantity(i)">+</button>
                  </div>
                </div>
                <div class="col-md-2 text-end">
                  <p class="fw-bold">₹{{ item.productPrice }}</p>
                  <button class="btn btn-sm btn-outline-danger" (click)="deleteItem(i)">
                    <i class="bi bi-trash"></i>
                  </button>
                </div>
              </div>
              <hr />
            </div>
          </div>

          <ng-template #noCartItems>
            <p class="text-center text-muted">Your cart is empty.</p>
          </ng-template>
        </div>
      </div>

      <!-- Continue Shopping -->
      <div class="text-start mb-4">
        <a routerLink="/brands" class="btn btn-outline-primary">
          <i class="bi bi-arrow-left me-2"></i>Continue Shopping
        </a>
      </div>
    </div>

    <!-- Cart Summary -->
    <div class="col-lg-4">
      <div class="card cart-summary">
        <div class="card-body">
          <h3 class="card-title mb-4"><b>Order Summary</b></h3>
          <div class="d-flex justify-content-between mb-3">
            <span>Subtotal</span>
            <span>₹{{ getSubtotal() }}</span>
          </div>
          <div class="d-flex justify-content-between mb-3">
            <span>Shipping</span>
            <span>₹10.00</span>
          </div>
          <div class="d-flex justify-content-between mb-3">
            <span>Tax</span>
            <span>₹20.00</span>
          </div>
          <hr />
          <div class="d-flex justify-content-between mb-4">
            <strong>Total</strong>
            <strong>₹{{ getSubtotal() + 10 + 20 }}</strong>
          </div>
          <button class="btn btn-primary w-100" (click)="checkOut()">Proceed to Checkout</button>
        </div>
      </div>

      <!-- Promo Code -->
      <div class="card mt-4">
        <div class="card-body">
          <h5 class="card-title mb-3">Apply Promo Code</h5>
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Enter promo code" />
            <button class="btn btn-outline-secondary" type="button">Apply</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
